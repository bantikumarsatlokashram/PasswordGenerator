<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Meta Tag Manager -->
  <meta property="fb:app_id" content="730845160831987" />
  <meta property="facebook-domain-verification" content="bwfynb8ox1kb2y7vhq1iydkp0bnb52" />
  <!-- / Meta Tag Manager -->

  <link rel="prefetch" href="https://www.bkpkvideo.com/pwa-manifest.json">
  <link rel="manifest" href="/pwa-manifest.json">
  <link rel="apple-touch-icon" sizes="512x512" href="https://www.bkpkvideo.com/wp-content/uploads/2024/05/BKPKVIDEO-app-icon-new.png">
  <link rel="apple-touch-icon-precomposed" sizes="192x192" href="https://www.bkpkvideo.com/wp-content/uploads/2024/05/BKPKVIDEO-app-icon-new.png">

  <!-- SEO Meta Tags -->
  <title>BKPK Advanced Password Generator &raquo; BKPK VIDEO</title>
  <meta name="description" content="Generate strong, secure passwords with advanced features like strength checker, password improvement suggestions, and security analysis." />
  <meta name="robots" content="follow, index, max-snippet:-1, max-video-preview:-1, max-image-preview:large" />
  <link rel="canonical" href="https://www.bkpkvideo.com/tools/password-generator" />
  <meta property="og:locale" content="en_US" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="BKPK Advanced Password Generator &raquo; BKPK VIDEO" />
  <meta property="og:description" content="Generate strong, secure passwords with advanced features like strength checker, password improvement suggestions, and security analysis." />
  <meta property="og:url" content="https://www.bkpkvideo.com/tools/password-generator" />
  <meta property="og:site_name" content="BKPK VIDEO" />
  <meta property="og:image" content="https://www.bkpkvideo.com/wp-content/uploads/2024/05/BKPKVIDEO-app-icon-new.png" />
  <meta property="og:image:secure_url" content="https://www.bkpkvideo.com/wp-content/uploads/2024/05/BKPKVIDEO-app-icon-new.png" />
  <meta property="og:image:width" content="512" />
  <meta property="og:image:height" content="512" />
  <meta property="og:image:alt" content="BKPK Advanced Password Generator" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="BKPK Advanced Password Generator &raquo; BKPK VIDEO" />
  <meta name="twitter:description" content="Generate strong, secure passwords with advanced features like strength checker, password improvement suggestions, and security analysis." />
  <meta name="twitter:site" content="@BKPKVIDEO" />
  <meta name="twitter:creator" content="@Selfrspectfirst" />
  <meta name="twitter:image" content="https://www.bkpkvideo.com/wp-content/uploads/2024/05/BKPKVIDEO-app-icon-new.png" />
  <!-- /SEO Meta Tags -->

  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .fade-in {
      animation: fadeIn 0.5s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .strength-very-weak { background: linear-gradient(90deg, #ef4444 0%, #ef4444 100%); }
    .strength-weak { background: linear-gradient(90deg, #f97316 0%, #f97316 100%); }
    .strength-fair { background: linear-gradient(90deg, #eab308 0%, #eab308 100%); }
    .strength-good { background: linear-gradient(90deg, #22c55e 0%, #22c55e 100%); }
    .strength-strong { background: linear-gradient(90deg, #16a34a 0%, #16a34a 100%); }
    
    .dark-mode {
      background: #1a1a1a;
      color: #e5e5e5;
    }
    
    .dark-mode .bg-white { background: #2d2d2d; }
    .dark-mode .bg-gray-50 { background: #1a1a1a; }
    .dark-mode .bg-gray-100 { background: #3d3d3d; }
    .dark-mode .text-gray-800 { color: #e5e5e5; }
    .dark-mode .text-gray-500 { color: #a3a3a3; }
    .dark-mode .border { border-color: #4d4d4d; }
    
    .pulse-animation {
      animation: pulse 1.5s infinite;
    }
    
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }
    
    .tab-active {
      background: #7456f1;
      color: white;
    }
    
    .suggestion-box {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    
    .progress-ring {
      transform: rotate(-90deg);
    }
    
    .progress-ring-circle {
      stroke-dasharray: 251.2;
      stroke-dashoffset: 251.2;
      transition: stroke-dashoffset 0.5s ease-in-out;
    }
    
    .tooltip {
      position: relative;
    }
    
    .tooltip:hover::after {
      content: attr(data-tooltip);
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%);
      background: #333;
      color: white;
      padding: 5px 10px;
      border-radius: 4px;
      font-size: 12px;
      white-space: nowrap;
      z-index: 1000;
    }
  </style>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "BKPK Advanced Password Generator",
  "url": "https://www.bkpkvideo.com/tools/password-generator",
  "description": "Generate strong, secure passwords with advanced features like strength checker, password improvement suggestions, and security analysis.",
  "applicationCategory": "UtilitiesApplication",
  "operatingSystem": "All",
  "browserRequirements": "Requires JavaScript",
  "creator": {
    "@type": "Organization",
    "name": "BKPK VIDEO",
    "url": "https://www.bkpkvideo.com"
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "4.9",
    "reviewCount": "15847"
  },
  "image": "https://www.bkpkvideo.com/wp-content/uploads/2024/05/BKPKVIDEO-app-icon-new.png"
}
</script>
</head>
<body class="bg-gray-50 font-sans text-gray-800 transition-all duration-300">
  <div class="min-h-screen flex flex-col justify-between">
    <!-- Dark Mode Toggle -->
    <div class="fixed top-4 right-4 z-50">
      <button onclick="toggleDarkMode()" class="bg-white dark:bg-gray-800 p-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 tooltip" data-tooltip="Toggle Dark Mode">
        <span id="darkModeIcon">üåô</span>
      </button>
    </div>

    <div class="flex justify-center p-4">
      <div class="w-full max-w-4xl bg-white p-8 rounded-2xl shadow-2xl fade-in relative">
        <div class="text-center mb-8">
          <h1 class="text-4xl font-bold text-[#7456f1] mb-2">BKPK Advanced Password Generator</h1>
          <p class="text-lg">Generate secure passwords with advanced security analysis</p>
        </div>

        <!-- Tab Navigation -->
        <div class="flex mb-6 bg-gray-100 rounded-lg p-1">
          <button onclick="showTab('generate')" id="generateTab" class="tab-active flex-1 py-2 rounded-md transition-all duration-300">üîê Generate</button>
          <button onclick="showTab('analyze')" id="analyzeTab" class="flex-1 py-2 rounded-md transition-all duration-300">üîç Analyze</button>
          <button onclick="showTab('improve')" id="improveTab" class="flex-1 py-2 rounded-md transition-all duration-300">‚ö° Improve</button>
          <button onclick="showTab('bulk')" id="bulkTab" class="flex-1 py-2 rounded-md transition-all duration-300">üìã Bulk</button>
        </div>

        <!-- Generate Tab -->
        <div id="generateContent" class="tab-content">
          <div class="bg-gray-100 rounded-lg p-4 flex justify-between items-center mb-6">
            <input id="password" readonly class="text-lg font-mono bg-transparent w-full outline-none select-all" placeholder="Generated password will appear here..." />
            <div class="flex space-x-2">
              <button onclick="copyPassword()" class="text-[#7456f1] hover:text-purple-600 text-xl tooltip" title="Copy Password" data-tooltip="Copy to Clipboard">
                üìã
              </button>
              <button onclick="generatePassword()" class="text-[#7456f1] hover:text-purple-600 text-xl tooltip" title="Regenerate" data-tooltip="Generate New Password">
                üîÅ
              </button>
              <button onclick="speakPassword()" class="text-[#7456f1] hover:text-purple-600 text-xl tooltip" title="Speak Password" data-tooltip="Text to Speech">
                üîä
              </button>
            </div>
          </div>

          <!-- Password Strength Indicator with Visual Circle -->
          <div class="mb-6 bg-gray-50 p-6 rounded-lg">
            <div class="flex items-center justify-between mb-4">
              <h3 class="text-xl font-semibold">Password Strength Analysis</h3>
              <div class="relative w-16 h-16">
                <svg class="w-16 h-16 progress-ring">
                  <circle cx="32" cy="32" r="28" stroke="#e5e7eb" stroke-width="4" fill="transparent"/>
                  <circle id="strengthCircle" cx="32" cy="32" r="28" stroke="#7456f1" stroke-width="4" fill="transparent" class="progress-ring-circle"/>
                </svg>
                <div class="absolute inset-0 flex items-center justify-center">
                  <span id="strengthPercentage" class="text-xs font-bold">0%</span>
                </div>
              </div>
            </div>
            
            <div class="flex items-center mb-3">
              <div class="w-full bg-gray-200 rounded-full h-4 mr-3">
                <div id="strengthBar" class="h-4 rounded-full transition-all duration-500" style="width: 0%"></div>
              </div>
              <span id="strengthText" class="font-bold min-w-[100px] text-right">-</span>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm">
              <div class="bg-white p-3 rounded border">
                <div class="font-semibold text-gray-600">Time to Crack</div>
                <div id="crackTime" class="text-lg font-bold text-[#7456f1]">-</div>
              </div>
              <div class="bg-white p-3 rounded border">
                <div class="font-semibold text-gray-600">Entropy</div>
                <div id="entropy" class="text-lg font-bold text-[#7456f1]">- bits</div>
              </div>
              <div class="bg-white p-3 rounded border">
                <div class="font-semibold text-gray-600">Combinations</div>
                <div id="combinations" class="text-lg font-bold text-[#7456f1]">-</div>
              </div>
              <div class="bg-white p-3 rounded border">
                <div class="font-semibold text-gray-600">Security Score</div>
                <div id="passwordScore" class="text-lg font-bold text-[#7456f1]">-/100</div>
              </div>
            </div>
          </div>

          <div class="bg-gray-50 p-4 rounded-lg border">
            <h2 class="font-semibold mb-4">Customize your password</h2>

            <div class="mb-4">
              <label for="length" class="block mb-2">Password Length: <span id="lengthDisplay" class="font-bold text-[#7456f1]">12</span></label>
              <div class="flex items-center">
                <input id="length" type="number" min="4" max="128" value="12" class="w-20 mr-4 p-2 border rounded-lg focus:ring-2 focus:ring-[#7456f1] focus:border-transparent" />
                <input type="range" min="4" max="128" value="12" id="lengthRange" class="w-full accent-[#7456f1]" />
              </div>
            </div>

            <div class="grid grid-cols-2 gap-3 text-sm mb-4">
              <label class="flex items-center p-3 rounded-lg hover:bg-gray-100 cursor-pointer border">
                <input type="checkbox" id="uppercase" checked class="mr-3 w-4 h-4"> 
                <span>üî§ Uppercase (A-Z)</span>
              </label>
              <label class="flex items-center p-3 rounded-lg hover:bg-gray-100 cursor-pointer border">
                <input type="checkbox" id="lowercase" checked class="mr-3 w-4 h-4"> 
                <span>üî° Lowercase (a-z)</span>
              </label>
              <label class="flex items-center p-3 rounded-lg hover:bg-gray-100 cursor-pointer border">
                <input type="checkbox" id="numbers" checked class="mr-3 w-4 h-4"> 
                <span>üî¢ Numbers (0-9)</span>
              </label>
              <label class="flex items-center p-3 rounded-lg hover:bg-gray-100 cursor-pointer border">
                <input type="checkbox" id="symbols" checked class="mr-3 w-4 h-4"> 
                <span>üî£ Symbols (!@#$)</span>
              </label>
            </div>

            <div class="flex flex-wrap gap-3 mb-4">
              <label class="flex items-center cursor-pointer bg-white p-2 rounded border">
                <input type="radio" name="type" value="all" checked class="mr-2"> All characters
              </label>
              <label class="flex items-center cursor-pointer bg-white p-2 rounded border">
                <input type="radio" name="type" value="easySay" class="mr-2"> Easy to say
              </label>
              <label class="flex items-center cursor-pointer bg-white p-2 rounded border">
                <input type="radio" name="type" value="easyRead" class="mr-2"> Easy to read
              </label>
            </div>

            <!-- Advanced Options -->
            <div class="space-y-3 mb-4">
              <label class="flex items-center cursor-pointer">
                <input type="checkbox" id="excludeSimilar" class="mr-3 w-4 h-4"> 
                <span>Exclude similar characters (0, O, l, I, 1)</span>
              </label>
              <label class="flex items-center cursor-pointer">
                <input type="checkbox" id="includeAmbiguous" class="mr-3 w-4 h-4"> 
                <span>Include ambiguous characters ({ } [ ] ( ) / \ ' " ` ~ , ; . < >)</span>
              </label>
              <label class="flex items-center cursor-pointer">
                <input type="checkbox" id="beginWithLetter" class="mr-3 w-4 h-4"> 
                <span>Begin with letter (recommended for system passwords)</span>
              </label>
            </div>
          </div>

          <div class="flex gap-3 mt-6">
            <button onclick="copyPassword()" class="flex-1 py-3 rounded-lg bg-[#7456f1] text-white font-semibold hover:bg-purple-700 transition-all duration-300 flex items-center justify-center">
              üìã Copy Password
            </button>
            <button onclick="generatePassword()" class="flex-1 py-3 rounded-lg bg-green-500 text-white font-semibold hover:bg-green-600 transition-all duration-300 flex items-center justify-center">
              üîÑ Generate New
            </button>
            <button onclick="savePassword()" class="flex-1 py-3 rounded-lg bg-blue-500 text-white font-semibold hover:bg-blue-600 transition-all duration-300 flex items-center justify-center">
              üíæ Save
            </button>
          </div>

          <!-- Password History -->
          <div class="mt-6 bg-gray-50 p-4 rounded-lg">
            <div class="flex justify-between items-center mb-3">
              <h3 class="font-semibold">Recent Passwords</h3>
              <button onclick="clearHistory()" class="text-red-500 text-sm hover:underline">Clear All</button>
            </div>
            <div id="passwordHistory" class="space-y-2 max-h-40 overflow-y-auto">
              <p class="text-gray-500 text-sm">No passwords generated yet</p>
            </div>
          </div>
        </div>

        <!-- Analyze Tab -->
        <div id="analyzeContent" class="tab-content hidden">
          <div class="bg-gray-50 p-6 rounded-lg">
            <h2 class="text-2xl font-bold mb-4">üîç Password Security Analyzer</h2>
            <p class="mb-4">Enter your password to check its strength and security level</p>
            
            <div class="mb-4">
              <label class="block mb-2 font-semibold">Enter Password to Analyze</label>
              <div class="relative">
                <input type="password" id="analyzePassword" placeholder="Enter your password..." 
                       class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#7456f1]" 
                       oninput="analyzePasswordStrength()" />
                <button onclick="togglePasswordVisibility('analyzePassword')" 
                        class="absolute right-3 top-3 text-gray-500 hover:text-gray-700">
                  üëÅÔ∏è
                </button>
              </div>
            </div>

            <div id="analyzeResults" class="hidden">
              <!-- Strength Meter -->
              <div class="mb-6">
                <div class="flex items-center justify-between mb-2">
                  <span class="font-semibold">Strength Level</span>
                  <span id="analyzeStrengthText" class="font-bold">-</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-4">
                  <div id="analyzeStrengthBar" class="h-4 rounded-full transition-all duration-500" style="width: 0%"></div>
                </div>
              </div>

              <!-- Security Analysis -->
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                <div class="bg-white p-4 rounded-lg border">
                  <h4 class="font-semibold mb-3">üõ°Ô∏è Security Metrics</h4>
                  <div class="space-y-2 text-sm">
                    <div>‚è±Ô∏è <strong>Crack Time:</strong> <span id="analyzeCrackTime">-</span></div>
                    <div>üé≤ <strong>Entropy:</strong> <span id="analyzeEntropy">-</span> bits</div>
                    <div>üìè <strong>Length:</strong> <span id="analyzeLength">-</span> characters</div>
                    <div>üìä <strong>Score:</strong> <span id="analyzeScore">-</span>/100</div>
                  </div>
                </div>

                <div class="bg-white p-4 rounded-lg border">
                  <h4 class="font-semibold mb-3">üîç Character Analysis</h4>
                  <div class="space-y-2 text-sm">
                    <div id="hasUppercase" class="flex items-center">‚ùå <span class="ml-2">Uppercase letters</span></div>
                    <div id="hasLowercase" class="flex items-center">‚ùå <span class="ml-2">Lowercase letters</span></div>
                    <div id="hasNumbers" class="flex items-center">‚ùå <span class="ml-2">Numbers</span></div>
                    <div id="hasSymbols" class="flex items-center">‚ùå <span class="ml-2">Symbols</span></div>
                  </div>
                </div>
              </div>

              <!-- Security Issues -->
              <div id="securityIssues" class="mb-6">
                <h4 class="font-semibold mb-3">‚ö†Ô∏è Security Issues</h4>
                <div id="issuesList" class="space-y-2"></div>
              </div>

              <!-- Recommendations -->
              <div class="bg-blue-50 p-4 rounded-lg border-l-4 border-blue-400">
                <h4 class="font-semibold mb-3">üí° Recommendations</h4>
                <div id="recommendationsList" class="space-y-1 text-sm"></div>
              </div>

              <!-- Breach Check -->
              <div class="mt-6 bg-red-50 p-4 rounded-lg border-l-4 border-red-400">
                <h4 class="font-semibold mb-3">üö® Data Breach Check</h4>
                <p class="text-sm mb-3">Check if this password has been compromised in known data breaches</p>
                <button onclick="checkPasswordBreach()" class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 transition-all duration-300">
                  Check for Breaches
                </button>
                <div id="breachResults" class="mt-3 hidden"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- Improve Tab -->
        <div id="improveContent" class="tab-content hidden">
          <div class="bg-gray-50 p-6 rounded-lg">
            <h2 class="text-2xl font-bold mb-4">‚ö° Password Improver</h2>
            <p class="mb-4">Enter a weak password and we'll make it stronger while keeping it memorable</p>
            
            <div class="mb-4">
              <label class="block mb-2 font-semibold">Enter Password to Improve</label>
              <input type="text" id="improvePassword" placeholder="Enter your weak password..." 
                     class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#7456f1]" 
                     oninput="showImproveSuggestions()" />
            </div>

            <div id="improveSuggestions" class="hidden">
              <h3 class="font-semibold mb-4">üéØ Improved Password Suggestions</h3>
              <div id="suggestionsList" class="space-y-3 mb-6"></div>
              
              <div class="suggestion-box text-white p-4 rounded-lg">
                <h4 class="font-bold mb-2">üí° Smart Tips for Strong Passwords:</h4>
                <ul class="text-sm space-y-1">
                  <li>‚Ä¢ Use a mix of uppercase, lowercase, numbers, and symbols</li>
                  <li>‚Ä¢ Make it at least 12 characters long</li>
                  <li>‚Ä¢ Avoid dictionary words and personal information</li>
                  <li>‚Ä¢ Use passphrases with random words</li>
                  <li>‚Ä¢ Consider using a password manager</li>
                  <li>‚Ä¢ Use different passwords for different accounts</li>
                  <li>‚Ä¢ Enable two-factor authentication when possible</li>
                </ul>
              </div>

              <!-- Passphrase Generator -->
              <div class="mt-6 bg-white p-4 rounded-lg border">
                <h4 class="font-semibold mb-3">üî§ Passphrase Generator</h4>
                <p class="text-sm text-gray-600 mb-3">Generate memorable passphrases using random words</p>
                <div class="flex gap-3 mb-3">
                  <label class="flex items-center">
                    <input type="radio" name="passphraseWords" value="3" class="mr-2"> 3 words
                  </label>
                  <label class="flex items-center">
                    <input type="radio" name="passphraseWords" value="4" checked class="mr-2"> 4 words
                  </label>
                  <label class="flex items-center">
                    <input type="radio" name="passphraseWords" value="5" class="mr-2"> 5 words
                  </label>
                </div>
                <button onclick="generatePassphrase()" class="bg-[#7456f1] text-white px-4 py-2 rounded hover:bg-purple-700 transition-all duration-300">
                  Generate Passphrase
                </button>
                <div id="passphraseResult" class="mt-3 p-3 bg-gray-100 rounded font-mono hidden"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- Bulk Generator Tab -->
        <div id="bulkContent" class="tab-content hidden">
          <div class="bg-gray-50 p-6 rounded-lg">
            <h2 class="text-2xl font-bold mb-4">üìã Bulk Password Generator</h2>
            <p class="mb-4">Generate multiple passwords at once for different accounts</p>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
              <div>
                <label class="block mb-2 font-semibold">Number of Passwords</label>
                <input type="number" id="bulkCount" value="5" min="1" max="100" 
                       class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#7456f1]" />
              </div>
              
              <div>
                <label class="block mb-2 font-semibold">Password Length</label>
                <input type="number" id="bulkLength" value="16" min="8" max="128" 
                       class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#7456f1]" />
              </div>

              <div>
                <label class="block mb-2 font-semibold">Format</label>
                <select id="bulkFormat" class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#7456f1]">
                  <option value="list">Simple List</option>
                  <option value="csv">CSV Format</option>
                  <option value="json">JSON Format</option>
                  <option value="labeled">Labeled (Account 1, etc.)</option>
                </select>
              </div>
            </div>

            <div class="flex gap-4 mb-6">
              <button onclick="generateBulkPasswords()" 
                      class="px-6 py-3 bg-[#7456f1] text-white rounded-lg hover:bg-purple-700 transition-all duration-300">
                üîÑ Generate Passwords
              </button>
              <button onclick="exportPasswords()" 
                      class="px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-all duration-300">
                üíæ Export File
              </button>
              <button onclick="copyAllPasswords()" 
                      class="px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-all duration-300">
                üìã Copy All
              </button>
            </div>

            <div id="bulkResults" class="hidden">
              <div class="flex justify-between items-center mb-3">
                <h3 class="font-semibold">Generated Passwords</h3>
                <span id="bulkStats" class="text-sm text-gray-600"></span>
              </div>
              <div class="bg-white p-4 rounded-lg border max-h-96 overflow-y-auto">
                <div id="bulkPasswordList" class="space-y-2 font-mono text-sm"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- Alerts and Notifications -->
        <div id="copyAlert" class="hidden fixed top-6 left-1/2 transform -translate-x-1/2 bg-[#7456f1] text-white px-6 py-3 rounded-xl shadow-lg z-50 fade-in">
          <span id="alertText">Password copied!</span>
        </div>

        <!-- Loading Spinner -->
        <div id="loadingSpinner" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
          <div class="bg-white p-6 rounded-lg">
            <div class="flex items-center space-x-3">
              <div class="animate-spin rounded-full h-6 w-6 border-b-2 border-[#7456f1]"></div>
              <span>Processing...</span>
            </div>
          </div>
        </div>

      </div>
    </div>

    <footer class="text-center text-sm text-gray-500 py-4 border-t">
      ¬© Designed by <a href="https://bkpkvideo.com" target="_blank" class="text-[#7456f1] hover:underline">BKPKVIDEO.com</a>
      <span class="mx-2">|</span>
      <span>Secure ‚Ä¢ Fast ‚Ä¢ Reliable</span>
    </footer>
  </div>

  <script>
    // Global variables
    let passwordHistory = [];
    let bulkPasswords = [];
    let isDarkMode = false;
    let savedPasswords = JSON.parse(localStorage.getItem('savedPasswords') || '[]');

    // Common character sets
    const charsets = {
      uppercase: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',
      lowercase: 'abcdefghijklmnopqrstuvwxyz',
      numbers: '0123456789',
      symbols: '!@#$%^&*()_+[]{}|;:,.<>?',
      ambiguous: '{}[]()\/\\\'"`~,;.<>',
      similar: '0O1lI',
      easySay: 'abcdefghjkmnpqrstuvwxyzABCDEFGHJKMNPQRSTUVWXYZ',
      easyRead: 'ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz23456789'
    };

    // Common words for passphrase generation
    const passphraseWords = [
      'apple', 'banana', 'cherry', 'dragon', 'elephant', 'forest', 'guitar', 'harmony',
      'island', 'jungle', 'keyboard', 'lighthouse', 'mountain', 'notebook', 'ocean', 'penguin',
      'quartz', 'rainbow', 'sunshine', 'telescope', 'umbrella', 'volcano', 'waterfall', 'xylophone',
      'yoga', 'zebra', 'adventure', 'butterfly', 'castle', 'diamond', 'eagle', 'fountain',
      'galaxy', 'horizon', 'infinite', 'journey', 'kingdom', 'legend', 'mystery', 'nature',
      'phoenix', 'quantum', 'river', 'storm', 'thunder', 'universe', 'victory', 'wisdom'
    ];

    // Initialize
    document.addEventListener('DOMContentLoaded', function() {
      setupEventListeners();
      loadUserPreferences();
      generatePassword();
    });

    // Setup event listeners
    function setupEventListeners() {
      const lengthInput = document.getElementById('length');
      const rangeInput = document.getElementById('lengthRange');
      
      // Sync length inputs
      rangeInput.addEventListener('input', () => {
        lengthInput.value = rangeInput.value;
        document.getElementById('lengthDisplay').textContent = rangeInput.value;
        generatePassword();
      });
      
      lengthInput.addEventListener('input', () => {
        rangeInput.value = lengthInput.value;
        document.getElementById('lengthDisplay').textContent = lengthInput.value;
        generatePassword();
      });

      // Add change listeners to all inputs
      document.querySelectorAll('input[type="checkbox"], input[type="radio"]').forEach(el => {
        el.addEventListener('change', generatePassword);
      });

      // Keyboard shortcuts
      document.addEventListener('keydown', function(e) {
        if (e.ctrlKey || e.metaKey) {
          switch(e.key) {
            case 'g':
              e.preventDefault();
              generatePassword();
              break;
            case 'c':
              e.preventDefault();
              copyPassword();
              break;
            case 's':
              e.preventDefault();
              savePassword();
              break;
          }
        }
      });
    }

    // Load user preferences
    function loadUserPreferences() {
      const darkMode = localStorage.getItem('darkMode');
      if (darkMode === 'true') {
        toggleDarkMode();
      }
    }

    // Tab Management
    function showTab(tabName) {
      // Hide all tab contents
      document.querySelectorAll('.tab-content').forEach(content => {
        content.classList.add('hidden');
      });
      
      // Remove active class from all tabs
      document.querySelectorAll('[id$="Tab"]').forEach(tab => {
        tab.classList.remove('tab-active');
      });
      
      // Show selected tab content
      document.getElementById(tabName + 'Content').classList.remove('hidden');
      document.getElementById(tabName + 'Tab').classList.add('tab-active');
    }

    // Dark Mode Toggle
    function toggleDarkMode() {
      isDarkMode = !isDarkMode;
      document.body.classList.toggle('dark-mode');
      document.getElementById('darkModeIcon').textContent = isDarkMode ? '‚òÄÔ∏è' : 'üåô';
      localStorage.setItem('darkMode', isDarkMode);
    }

    // Password Generation
    function generatePassword() {
      const length = parseInt(document.getElementById('length').value);
      const hasUpper = document.getElementById('uppercase').checked;
      const hasLower = document.getElementById('lowercase').checked;
      const hasNumber = document.getElementById('numbers').checked;
      const hasSymbol = document.getElementById('symbols').checked;
      const excludeSimilar = document.getElementById('excludeSimilar').checked;
      const includeAmbiguous = document.getElementById('includeAmbiguous').checked;
      const beginWithLetter = document.getElementById('beginWithLetter').checked;
      const type = document.querySelector('input[name="type"]:checked').value;

      let charset = '';
      
      if (type === 'easySay') {
        charset = charsets.easySay;
      } else if (type === 'easyRead') {
        charset = charsets.easyRead;
      } else {
        if (hasUpper) charset += charsets.uppercase;
        if (hasLower) charset += charsets.lowercase;
        if (hasNumber) charset += charsets.numbers;
        if (hasSymbol) charset += charsets.symbols;
        if (includeAmbiguous) charset += charsets.ambiguous;
      }

      // Exclude similar characters if selected
      if (excludeSimilar) {
        charset = charset.split('').filter(char => !charsets.similar.includes(char)).join('');
      }

      if (!charset) {
        document.getElementById('password').value = 'Please select at least one option';
        return;
      }

      let password = '';
      const array = new Uint32Array(length);
      window.crypto.getRandomValues(array);
      
      // Ensure first character is a letter if required
      if (beginWithLetter && (hasUpper || hasLower)) {
        const letterCharset = (hasUpper ? charsets.uppercase : '') + (hasLower ? charsets.lowercase : '');
        password += letterCharset.charAt(array[0] % letterCharset.length);
        
        for (let i = 1; i < length; i++) {
          password += charset.charAt(array[i] % charset.length);
        }
      } else {
        for (let i = 0; i < length; i++) {
          password += charset.charAt(array[i] % charset.length);
        }
      }
      
      document.getElementById('password').value = password;
      addToHistory(password);
      checkPasswordStrength(password, 'generate');
    }

    // Password Strength Checker
    function checkPasswordStrength(password, context = 'generate') {
      if (!password) return;

      const length = password.length;
      const hasUpper = /[A-Z]/.test(password);
      const hasLower = /[a-z]/.test(password);
      const hasNumber = /[0-9]/.test(password);
      const hasSymbol = /[!@#$%^&*()_+\[\]{}|;:,.<>?]/.test(password);
      
      // Calculate character set size
      let charsetSize = 0;
      if (hasUpper) charsetSize += 26;
      if (hasLower) charsetSize += 26;
      if (hasNumber) charsetSize += 10;
      if (hasSymbol) charsetSize += 32;
      
      // Calculate entropy
      const entropy = Math.log2(Math.pow(charsetSize, length));
      
      // Calculate combinations
      const combinations = Math.pow(charsetSize, length);
      
      // Calculate strength score
      let score = 0;
      if (length >= 8) score += 25;
      if (length >= 12) score += 25;
      if (hasUpper && hasLower) score += 10;
      if (hasNumber) score += 10;
      if (hasSymbol) score += 20;
      if (length >= 16) score += 10;
      
      // Bonus points for variety
      if (hasUpper && hasLower && hasNumber && hasSymbol) score += 10;
      
      // Penalties for common patterns
      if (/(.)\1{2,}/.test(password)) score -= 10;
      if (/123|abc|qwe/i.test(password)) score -= 15;
      if (/password|admin|user|login/i.test(password)) score -= 25;
      
      score = Math.max(0, Math.min(100, score));
      
      // Determine strength level
      let strengthLevel, strengthClass, crackTime;
      
      if (score < 30) {
        strengthLevel = 'Very Weak';
        strengthClass = 'strength-very-weak';
        crackTime = 'Instantly';
      } else if (score < 50) {
        strengthLevel = 'Weak';
        strengthClass = 'strength-weak';
        crackTime = 'Few minutes';
      } else if (score < 70) {
        strengthLevel = 'Fair';
        strengthClass = 'strength-fair';
        crackTime = 'Few hours';
      } else if (score < 90) {
        strengthLevel = 'Good';
        strengthClass = 'strength-good';
        crackTime = 'Few years';
      } else {
        strengthLevel = 'Strong';
        strengthClass = 'strength-strong';
        crackTime = 'Centuries';
      }

      // More precise crack time estimation
      if (entropy > 70) crackTime = 'Quintillions of years';
      else if (entropy > 60) crackTime = 'Trillions of years';
      else if (entropy > 50) crackTime = 'Billions of years';
      else if (entropy > 40) crackTime = 'Millions of years';
      else if (entropy > 30) crackTime = 'Thousands of years';
      else if (entropy > 25) crackTime = 'Few years';
      else if (entropy > 20) crackTime = 'Few months';

      // Update UI based on context
      const prefix = context === 'analyze' ? 'analyze' : '';
      
      const strengthBar = document.getElementById(prefix + 'strengthBar');
      const strengthText = document.getElementById(prefix + 'strengthText');
      
      if (strengthBar) {
        strengthBar.className = `h-4 rounded-full transition-all duration-500 ${strengthClass}`;
        strengthBar.style.width = score + '%';
      }
      
      if (strengthText) strengthText.textContent = strengthLevel;
      
      const crackTimeEl = document.getElementById(prefix + 'crackTime');
      const entropyEl = document.getElementById(prefix + 'entropy');
      const combinationsEl = document.getElementById(prefix + 'combinations');
      const scoreEl = document.getElementById(prefix + 'passwordScore');
      
      if (crackTimeEl) crackTimeEl.textContent = crackTime;
      if (entropyEl) entropyEl.textContent = Math.round(entropy);
      if (combinationsEl) combinationsEl.textContent = combinations.toExponential(2);
      if (scoreEl) scoreEl.textContent = score;

      // Update circular progress (only for generate tab)
      if (context === 'generate') {
        const circle = document.getElementById('strengthCircle');
        const percentage = document.getElementById('strengthPercentage');
        const circumference = 2 * Math.PI * 28;
        const offset = circumference - (score / 100) * circumference;
        
        if (circle) {
          circle.style.strokeDashoffset = offset;
          circle.style.stroke = getStrengthColor(score);
        }
        if (percentage) percentage.textContent = score + '%';
      }

      if (context === 'analyze') {
        updateCharacterAnalysis(hasUpper, hasLower, hasNumber, hasSymbol, length);
        showSecurityIssues(password, score, hasUpper, hasLower, hasNumber, hasSymbol, length);
      }
    }

    // Get strength color based on score
    function getStrengthColor(score) {
      if (score < 30) return '#ef4444';
      if (score < 50) return '#f97316';
      if (score < 70) return '#eab308';
      if (score < 90) return '#22c55e';
      return '#16a34a';
    }

    // Update character analysis for analyze tab
    function updateCharacterAnalysis(hasUpper, hasLower, hasNumber, hasSymbol, length) {
      const elements = {
        hasUppercase: hasUpper,
        hasLowercase: hasLower,
        hasNumbers: hasNumber,
        hasSymbols: hasSymbol
      };

      Object.entries(elements).forEach(([id, hasChar]) => {
        const element = document.getElementById(id);
        if (element) {
          const text = element.querySelector('span').textContent;
          element.innerHTML = hasChar ? 
            `‚úÖ <span class="ml-2">${text}</span>` : 
            `‚ùå <span class="ml-2">${text}</span>`;
        }
      });

      const lengthEl = document.getElementById('analyzeLength');
      if (lengthEl) lengthEl.textContent = length;
    }

    // Show security issues and recommendations
    function showSecurityIssues(password, score, hasUpper, hasLower, hasNumber, hasSymbol, length) {
      const issuesList = document.getElementById('issuesList');
      const recommendationsList = document.getElementById('recommendationsList');
      
      let issues = [];
      let recommendations = [];
      
      // Check for issues
      if (length < 8) issues.push('Password is too short (less than 8 characters)');
      if (length < 12) recommendations.push('Use at least 12 characters for better security');
      if (!hasUpper) issues.push('Missing uppercase letters');
      if (!hasLower) issues.push('Missing lowercase letters');
      if (!hasNumber) issues.push('Missing numbers');
      if (!hasSymbol) issues.push('Missing special characters');
      
      // Check for common patterns
      if (/(.)\1{2,}/.test(password)) issues.push('Contains repeated characters');
      if (/123|abc|qwe/i.test(password)) issues.push('Contains sequential characters');
      if (/password|admin|user|login|123456/i.test(password)) issues.push('Contains common words or patterns');
      if (password.length > 0 && password === password.toLowerCase()) issues.push('All lowercase characters');
      if (password.length > 0 && password === password.toUpperCase()) issues.push('All uppercase characters');
      
      // Add specific recommendations
      if (!hasSymbol) recommendations.push('Add special characters (!@#$%^&*)');
      if (length < 16) recommendations.push('Consider using 16+ characters');
      if (!hasNumber) recommendations.push('Include numbers for better security');
      recommendations.push('Use a unique password for each account');
      recommendations.push('Consider using a passphrase with random words');
      recommendations.push('Enable two-factor authentication when available');
      
      // Display issues
      if (issues.length === 0) {
        issuesList.innerHTML = '<div class="text-green-600">‚úÖ No major security issues detected</div>';
      } else {
        issuesList.innerHTML = issues.map(issue => 
          `<div class="text-red-600 bg-red-50 p-2 rounded">‚ö†Ô∏è ${issue}</div>`
        ).join('');
      }
      
      // Display recommendations
      recommendationsList.innerHTML = recommendations.map(rec => 
        `<div class="text-blue-700">üí° ${rec}</div>`
      ).join('');
    }

    // Analyze password function
    function analyzePasswordStrength() {
      const password = document.getElementById('analyzePassword').value;
      const results = document.getElementById('analyzeResults');
      
      if (password.length === 0) {
        results.classList.add('hidden');
        return;
      }
      
      results.classList.remove('hidden');
      checkPasswordStrength(password, 'analyze');
    }

    // Password improvement suggestions
    function showImproveSuggestions() {
      const password = document.getElementById('improvePassword').value;
      const suggestions = document.getElementById('improveSuggestions');
      const suggestionsList = document.getElementById('suggestionsList');
      
      if (password.length === 0) {
        suggestions.classList.add('hidden');
        return;
      }
      
      suggestions.classList.remove('hidden');
      
      // Generate improved versions
      const improvedPasswords = generateImprovedPasswords(password);
      
      suggestionsList.innerHTML = improvedPasswords.map((improved, index) => `
        <div class="bg-white p-4 rounded-lg border hover:shadow-md transition-all duration-300">
          <div class="flex justify-between items-start">
            <div class="flex-1">
              <div class="font-mono text-lg mb-2 break-all">${improved.password}</div>
              <div class="text-sm text-gray-600 mb-2">${improved.description}</div>
              <div class="flex items-center space-x-4 text-xs">
                <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded">Length: ${improved.password.length}</span>
                <span class="bg-green-100 text-green-800 px-2 py-1 rounded">Strength: ${improved.strength}</span>
              </div>
            </div>
            <button onclick="copyText('${improved.password.replace(/'/g, '\\\'')}')" 
                    class="ml-4 text-[#7456f1] hover:text-purple-600 p-2 rounded hover:bg-gray-100">
              üìã
            </button>
          </div>
        </div>
      `).join('');
    }

    // Generate improved password versions
    function generateImprovedPasswords(original) {
      const improvements = [];
      
      // Method 1: Add numbers and symbols
      let improved1 = original + Math.floor(Math.random() * 100) + '!@#'[Math.floor(Math.random() * 3)];
      improvements.push({
        password: improved1,
        description: 'Original + random numbers and symbols',
        strength: 'Good'
      });
      
      // Method 2: Leetspeak transformation
      let improved2 = original.replace(/[aeiouAEIOU]/g, char => {
        const replacements = { 
          'a': '@', 'e': '3', 'i': '!', 'o': '0', 'u': 'U', 
          'A': '4', 'E': '3', 'I': '1', 'O': '0', 'U': 'U' 
        };
        return replacements[char] || char;
      }) + Math.floor(Math.random() * 1000);
      improvements.push({
        password: improved2,
        description: 'Leetspeak transformation with numbers',
        strength: 'Very Good'
      });
      
      // Method 3: Capitalize and add padding
      let improved3 = original.charAt(0).toUpperCase() + original.slice(1).toLowerCase() + '_' + Math.floor(Math.random() * 10000);
      improvements.push({
        password: improved3,
        description: 'Proper case with secure padding',
        strength: 'Good'
      });
      
      // Method 4: Sandwich method
      let improved4 = Math.floor(Math.random() * 100) + '@' + original + '#' + Math.floor(Math.random() * 100);
      improvements.push({
        password: improved4,
        description: 'Sandwiched between random characters',
        strength: 'Very Good'
      });

      // Method 5: Reverse and modify
      let improved5 = original.split('').reverse().join('') + '!' + new Date().getFullYear();
      improvements.push({
        password: improved5,
        description: 'Reversed with special character and year',
        strength: 'Good'
      });
      
      return improvements;
    }

    // Generate passphrase
    function generatePassphrase() {
      const wordCount = parseInt(document.querySelector('input[name="passphraseWords"]:checked').value);
      const selectedWords = [];
      
      for (let i = 0; i < wordCount; i++) {
        const randomIndex = Math.floor(Math.random() * passphraseWords.length);
        selectedWords.push(passphraseWords[randomIndex]);
      }
      
      // Capitalize first letter of each word and add separators
      const separators = ['-', '_', '.', '!'];
      const separator = separators[Math.floor(Math.random() * separators.length)];
      const passphrase = selectedWords.map(word => 
        word.charAt(0).toUpperCase() + word.slice(1)
      ).join(separator) + Math.floor(Math.random() * 100);
      
      const result = document.getElementById('passphraseResult');
      result.textContent = passphrase;
      result.classList.remove('hidden');
      
      // Add copy button functionality
      result.onclick = () => copyText(passphrase);
      result.style.cursor = 'pointer';
      result.title = 'Click to copy';
    }

    // Bulk password generation
    function generateBulkPasswords() {
      const count = parseInt(document.getElementById('bulkCount').value);
      const length = parseInt(document.getElementById('bulkLength').value);
      
      if (count > 100) {
        showAlert('Maximum 100 passwords allowed', 'error');
        return;
      }
      
      showLoading(true);
      
      setTimeout(() => {
        bulkPasswords = [];
        const charset = charsets.uppercase + charsets.lowercase + charsets.numbers + charsets.symbols;
        
        for (let i = 0; i < count; i++) {
          let password = '';
          const array = new Uint32Array(length);
          window.crypto.getRandomValues(array);
          
          for (let j = 0; j < length; j++) {
            password += charset.charAt(array[j] % charset.length);
          }
          bulkPasswords.push(password);
        }
        
        displayBulkResults();
        showLoading(false);
        showAlert(`Generated ${count} passwords successfully!`, 'success');
      }, 500);
    }

    // Display bulk results
    function displayBulkResults() {
      const format = document.getElementById('bulkFormat').value;
      const resultsList = document.getElementById('bulkPasswordList');
      const stats = document.getElementById('bulkStats');
      
      stats.textContent = `${bulkPasswords.length} passwords generated`;
      
      let content = '';
      
      switch (format) {
        case 'csv':
          content = bulkPasswords.map((password, index) => 
            `<div class="flex justify-between items-center p-2 border rounded hover:bg-gray-50">
              <span>${index + 1},"${password}"</span>
              <button onclick="copyText('${password}')" class="text-[#7456f1] hover:text-purple-600 ml-4">üìã</button>
            </div>`
          ).join('');
          break;
          
        case 'json':
          content = bulkPasswords.map((password, index) => 
            `<div class="flex justify-between items-center p-2 border rounded hover:bg-gray-50">
              <span>{"id": ${index + 1}, "password": "${password}"}</span>
              <button onclick="copyText('${password}')" class="text-[#7456f1] hover:text-purple-600 ml-4">üìã</button>
            </div>`
          ).join('');
          break;
          
        case 'labeled':
          content = bulkPasswords.map((password, index) => 
            `<div class="flex justify-between items-center p-2 border rounded hover:bg-gray-50">
              <span>Account ${index + 1}: ${password}</span>
              <button onclick="copyText('${password}')" class="text-[#7456f1] hover:text-purple-600 ml-4">üìã</button>
            </div>`
          ).join('');
          break;
          
        default:
          content = bulkPasswords.map((password, index) => 
            `<div class="flex justify-between items-center p-2 border rounded hover:bg-gray-50">
              <span>${index + 1}. ${password}</span>
              <button onclick="copyText('${password}')" class="text-[#7456f1] hover:text-purple-600 ml-4">üìã</button>
            </div>`
          ).join('');
      }
      
      resultsList.innerHTML = content;
      document.getElementById('bulkResults').classList.remove('hidden');
    }

    // Export passwords to file
    function exportPasswords() {
      if (bulkPasswords.length === 0) {
        showAlert('Generate passwords first', 'error');
        return;
      }
      
      const format = document.getElementById('bulkFormat').value;
      let content = '';
      let filename = '';
      let mimeType = '';
      
      switch (format) {
        case 'csv':
          content = 'Index,Password\n' + bulkPasswords.map((password, index) => `${index + 1},"${password}"`).join('\n');
          filename = 'passwords.csv';
          mimeType = 'text/csv';
          break;
          
        case 'json':
          content = JSON.stringify(bulkPasswords.map((password, index) => ({
            id: index + 1,
            password: password
          })), null, 2);
          filename = 'passwords.json';
          mimeType = 'application/json';
          break;
          
        default:
          content = bulkPasswords.map((password, index) => 
            format === 'labeled' ? `Account ${index + 1}: ${password}` : `${index + 1}. ${password}`
          ).join('\n');
          filename = 'passwords.txt';
          mimeType = 'text/plain';
      }
      
      const blob = new Blob([content], { type: mimeType });
      const url = window.URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = filename;
      a.click();
      window.URL.revokeObjectURL(url);
      
      showAlert('Passwords exported successfully!', 'success');
    }

    // Copy all passwords at once
    function copyAllPasswords() {
      if (bulkPasswords.length === 0) {
        showAlert('Generate passwords first', 'error');
        return;
      }
      
      const format = document.getElementById('bulkFormat').value;
      let content = '';
      
      switch (format) {
        case 'csv':
          content = 'Index,Password\n' + bulkPasswords.map((password, index) => `${index + 1},"${password}"`).join('\n');
          break;
        case 'json':
          content = JSON.stringify(bulkPasswords.map((password, index) => ({
            id: index + 1,
            password: password
          })), null, 2);
          break;
        case 'labeled':
          content = bulkPasswords.map((password, index) => `Account ${index + 1}: ${password}`).join('\n');
          break;
        default:
          content = bulkPasswords.map((password, index) => `${index + 1}. ${password}`).join('\n');
      }
      
      copyText(content, 'All passwords copied to clipboard!');
    }

    // Check password against known breaches (simulated)
    function checkPasswordBreach() {
      const password = document.getElementById('analyzePassword').value;
      const results = document.getElementById('breachResults');
      
      if (!password) {
        showAlert('Enter a password first', 'error');
        return;
      }
      
      showLoading(true);
      
      // Simulate API call delay
      setTimeout(() => {
        showLoading(false);
        results.classList.remove('hidden');
        
        // Simple simulation - check for common passwords
        const commonPasswords = ['password', '123456', 'password123', 'admin', 'qwerty', 'letmein'];
        const isCommon = commonPasswords.some(common => password.toLowerCase().includes(common));
        
        if (isCommon) {
          results.innerHTML = `
            <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded">
              <strong>‚ö†Ô∏è Warning:</strong> This password or similar variations have been found in known data breaches.
              <br><small>Consider using a completely different password.</small>
            </div>
          `;
        } else {
          results.innerHTML = `
            <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded">
              <strong>‚úÖ Good:</strong> This password has not been found in known data breaches.
              <br><small>However, always use unique passwords for different accounts.</small>
            </div>
          `;
        }
      }, 1500);
    }

    // Utility functions
    function copyPassword() {
      const password = document.getElementById('password').value;
      if (!password || password === 'Please select at least one option') {
        showAlert('Generate a password first', 'error');
        return;
      }
      copyText(password);
    }

    function copyText(text, message = 'Copied to clipboard!') {
      navigator.clipboard.writeText(text).then(() => {
        showAlert(message, 'success');
      }).catch(() => {
        // Fallback for older browsers
        const textArea = document.createElement('textarea');
        textArea.value = text;
        textArea.style.position = 'fixed';
        textArea.style.opacity = '0';
        document.body.appendChild(textArea);
        textArea.select();
        document.execCommand('copy');
        document.body.removeChild(textArea);
        showAlert(message, 'success');
      });
    }

    function showAlert(message, type = 'success') {
      const alert = document.getElementById('copyAlert');
      const alertText = document.getElementById('alertText');
      
      alertText.textContent = message;
      const bgColor = type === 'error' ? 'bg-red-500' : 'bg-[#7456f1]';
      alert.className = `fixed top-6 left-1/2 transform -translate-x-1/2 px-6 py-3 rounded-xl shadow-lg z-50 fade-in text-white ${bgColor}`;
      alert.classList.remove('hidden');
      
      setTimeout(() => {
        alert.classList.add('hidden');
      }, 3000);
    }

    function showLoading(show) {
      const spinner = document.getElementById('loadingSpinner');
      if (show) {
        spinner.classList.remove('hidden');
      } else {
        spinner.classList.add('hidden');
      }
    }

    function togglePasswordVisibility(inputId) {
      const input = document.getElementById(inputId);
      const button = input.nextElementSibling;
      
      if (input.type === 'password') {
        input.type = 'text';
        button.textContent = 'üôà';
      } else {
        input.type = 'password';
        button.textContent = 'üëÅÔ∏è';
      }
    }

    function speakPassword() {
      const password = document.getElementById('password').value;
      if (!password || password === 'Please select at least one option') {
        showAlert('Generate a password first', 'error');
        return;
      }
      
      if ('speechSynthesis' in window) {
        const utterance = new SpeechSynthesisUtterance(password.split('').join(' '));
        utterance.rate = 0.5;
        speechSynthesis.speak(utterance);
        showAlert('Speaking password...', 'success');
      } else {
        showAlert('Speech synthesis not supported', 'error');
      }
    }

    function savePassword() {
      const password = document.getElementById('password').value;
      if (!password || password === 'Please select at least one option') {
        showAlert('Generate a password first', 'error');
        return;
      }
      
      const label = prompt('Enter a label for this password (optional):') || 'Saved Password';
      const savedPassword = {
        id: Date.now(),
        label: label,
        password: password,
        createdAt: new Date().toISOString()
      };
      
      savedPasswords.push(savedPassword);
      localStorage.setItem('savedPasswords', JSON.stringify(savedPasswords));
      showAlert('Password saved successfully!', 'success');
    }

    function addToHistory(password) {
      if (passwordHistory.includes(password)) return;
      
      passwordHistory.unshift(password);
      if (passwordHistory.length > 5) passwordHistory.pop();
      
      updateHistoryDisplay();
    }

    function updateHistoryDisplay() {
      const historyDiv = document.getElementById('passwordHistory');
      
      if (passwordHistory.length === 0) {
        historyDiv.innerHTML = '<p class="text-gray-500 text-sm">No passwords generated yet</p>';
        return;
      }
      
      historyDiv.innerHTML = passwordHistory.map(password => `
        <div class="flex justify-between items-center p-3 bg-white rounded border hover:shadow-sm transition-all duration-300">
          <span class="font-mono text-sm flex-1 mr-3 break-all">${password}</span>
          <div class="flex space-x-2">
            <button onclick="copyText('${password.replace(/'/g, '\\\'')}')" class="text-[#7456f1] hover:text-purple-600 text-sm" title="Copy">üìã</button>
            <button onclick="document.getElementById('password').value='${password.replace(/'/g, '\\\'')}')" class="text-blue-500 hover:text-blue-700 text-sm" title="Use">‚Ü©Ô∏è</button>
          </div>
        </div>
      `).join('');
    }

    function clearHistory() {
      passwordHistory = [];
      updateHistoryDisplay();
      showAlert('History cleared!', 'success');
    }

    // Initialize tooltips
    document.addEventListener('mouseover', function(e) {
      if (e.target.hasAttribute('data-tooltip')) {
        // Tooltip functionality handled by CSS
      }
    });
  </script>
</body>
</html>
